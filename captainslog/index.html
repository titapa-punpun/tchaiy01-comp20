<!DOCTYPE html>

<html>

<head>
    <meta charset="utf-8" />
    <title>Captain's Log</title>
    <link rel="stylesheet" href="style.css" />
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.2.1/jquery.min.js"></script>
    <script>
        $(document).ready(function() {
            var output = " ";
            for (var i = 0; i < localStorage.length; i++) {
                output = "<p>" + localStorage.getItem(localStorage.key(i)) + "</p>\n" + output;
            }
            $("#log").html(output);
            $("#msg").keypress(function(event) {
                var enter_key = event.which;
                if (enter_key == 13) {
                    var user_entry;
                    var curr_date = new Date();
                    var date_time = curr_date.toDateString() + " " + (curr_date.getHours()) + ":" + (curr_date.getMinutes()) + ":" + (curr_date.getSeconds() + " - ");
                    
                        user_entry = date_time + " " + $("#msg").val();
                        localStorage.setItem(date_time, user_entry);
                        $("#msg").val("");
                    output = " ";
                    for (var i = 0; i < localStorage.length; i++) {
                        output = "<p>" + localStorage.getItem(localStorage.key(i)) + "</p>\n" + output;
                    }
                    $("#log").html(output);
                }
            });
        });
    </script> 
</head>

<body>
    <h1>Captain's Log</h1>
    <h3>New entry: <input type="text" id="msg" name="msg" size="30" /></h3> 
    <div id="log"></div>
</body>
</html>